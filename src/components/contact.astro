<section id="contact" class="w-full py-12 border-t border-[#ffffff10]">
  <div class="max-w-5xl mx-auto">
    <h2 class="text-lg text-[var(--sec)] mb-2 shiny-sec">Discutons</h2>
    <h3 class="text-4xl md:text-5xl font-medium text-[var(--white)] mb-6">
      Contact
    </h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <div class="text-[var(--white-icon)]">
        <p class="mb-4">
          Vous avez une question ou un projet en tête ? N'hésitez pas à me contacter.
        </p>
        <div class="flex items-center gap-2">
          <span>Localisation:</span>
          <span class="text-[var(--white)]">Abidjan Cote d'Ivoire</span>
        </div>
      </div>

      <div>
        <form id="contact-form" class="flex flex-col gap-4">
          <input
            type="text"
            name="from_name"
            placeholder="Nom"
            required
            class="px-4 py-2 bg-[#1414149c] text-[var(--white)] border border-[var(--white-icon-tr)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--sec)]"
          />
          <input
            type="email"
            name="reply_to"
            placeholder="Email"
            required
            class="px-4 py-2 bg-[#1414149c] text-[var(--white)] border border-[var(--white-icon-tr)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--sec)]"
          />
          <textarea
            name="message"
            placeholder="Message"
            rows="6"
            required
            class="px-4 py-2 bg-[#1414149c] text-[var(--white)] border border-[var(--white-icon-tr)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--sec)] resize-none"
          ></textarea>
          <button
            type="submit"
            id="submit-btn"
            class="group relative px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white font-semibold rounded-xl overflow-hidden transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-orange-500/50 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed"
          >
            <span class="relative z-10 flex items-center justify-center gap-2">
              <span id="btn-text">Envoyer</span>
              <svg id="btn-icon" class="w-5 h-5 transition-transform duration-300 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/>
              </svg>
            </span>
            <div class="absolute inset-0 bg-gradient-to-r from-orange-600 to-orange-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          </button>
        </form>
        <div
          id="form-message"
          class="hidden mt-4 p-4 rounded-lg text-center"
        >
        </div>
      </div>
    </div>
  </div>
</section>

<script is:inline src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script is:inline>
  (function() {
    function initEmailJS() {
      if (typeof emailjs !== 'undefined') {
        emailjs.init('FOeZRXJ0ALP39qZnC');

        const form = document.getElementById('contact-form');
        const formMessage = document.getElementById('form-message');
        const submitBtn = document.getElementById('submit-btn');
        const btnText = document.getElementById('btn-text');
        const btnIcon = document.getElementById('btn-icon');

        form?.addEventListener('submit', function(e) {
          e.preventDefault();

          submitBtn.disabled = true;
          btnText.textContent = 'Envoi...';
          btnIcon.style.display = 'none';

          emailjs.sendForm('service_o6x0sx7', 'template_go2a12w', form)
            .then(function(response) {
              form.reset();
              submitBtn.disabled = false;
              btnText.textContent = 'Envoyer';
              btnIcon.style.display = 'block';
              
              formMessage.className = 'mt-4 p-4 rounded-lg text-center bg-green-500/20 border border-green-500/30 text-green-400';
              formMessage.innerHTML = '✅ Formulaire soumis ! Emerick vous répondra dans moins de 48 heures.';
              formMessage.classList.remove('hidden');
              
              setTimeout(function() {
                formMessage.classList.add('hidden');
              }, 5000);
            })
            .catch(function(error) {
              submitBtn.disabled = false;
              btnText.textContent = 'Envoyer';
              btnIcon.style.display = 'block';
              
              formMessage.className = 'mt-4 p-4 rounded-lg text-center bg-red-500/20 border border-red-500/30 text-red-400';
              formMessage.innerHTML = '❌ Erreur: ' + (error.text || 'Veuillez réessayer.');
              formMessage.classList.remove('hidden');
              
              setTimeout(function() {
                formMessage.classList.add('hidden');
              }, 5000);
            });
        });
      }
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initEmailJS);
    } else {
      initEmailJS();
    }
  })();
</script>
